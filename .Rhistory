<<<<<<< HEAD
library(haven)
lab <- read_dta("Ch2_lab_survey_data.dta")
#Create dummy variable for Arlington county, selecting corresponding precinct codes with OR operators
lab$Arlington <- (
lab$precinct == "AR49" | lab$precinct == "AR22" | lab$precinct == "AR2" |
lab$precinct == "AR18" | lab$precinct == "41" | lab$precinct == "16" |
lab$precinct == "4" | lab$precinct == "17" | (lab$precinct == "2" &
lab$state == 4& !is.na(lab$state))|
lab$precinct == "31" | lab$precinct == "48")
#Count observations from each county, in this case TRUE corresponds to Arlington
table(lab$Arlington)
#Create dummy variable for Prince William county, selecting corresponding precinct codes with OR operators
lab$PrinceWilliam1 <- (
lab$precinct == "PW 101" | lab$precinct == "PW 104" |  lab$precinct == "PW 401" | lab$precinct == "PW101" |
lab$precinct == "PW104" | lab$precinct == "PW402" | lab$precinct == "PW406"  | lab$precinct == "401" | lab$precinct == "402" |
(lab$precinct == "104" & lab$state == 4)	)
#Count observations from each county, in this case TRUE corresponds to Prince William
table(lab$PrinceWilliam1)
#Create dummy variables for each state
lab$DC <- (lab$state == 1)
lab$Maryland <- (lab$state == 2)
lab$Ohio <- (lab$state == 3)
lab$Virginia <- (lab$state == 4)
#Tabulate observations for each state
table(lab$state)
#Since the survey was taken in 2016, subtract 2016 - year born to obtain age
#Create new age column
lab$age <- 2016 - lab$year_born
#The first summary of the age column shows there is a max age of 152 and 482 NA rows
summary(lab$age)
#Subset the lab dataframe and exclude values where age is above 100
newdata <- subset(lab, age < 100)
#The summary of the newdata age column shows a new maximum of 95, which is possible
summary(newdata$age)
#Create male and female variables
lab$male <- (lab$gender == 1)
lab$female <- (lab$gender == 2)
table(lab$male)
table(lab$gender)
#Summarize Clinton feeling thermometer, see there is a max of 200
summary(lab$therm_clinton)
#Turn values over 100 into NA and summarize again
lab$therm_clinton[lab$therm_clinton > 100] <- NA
summary(lab$therm_clinton)
#Summarize Trump feeling thermometer
summary(lab$therm_trump)
#Below shows 7 values for education question
lab1 <- read_dta("Ch2_lab_survey_data.dta")
table(lab1$education)
#Below we adjust education to exclude the Other response in answer 4, and re-assign the other responses accordingly
#Additionally, the Other response only had 11 values
lab1$education[lab1$education == 4] <- NA
lab1$education[lab1$education == 5] <- 4
lab1$education[lab1$education == 6] <- 5
lab1$education[lab1$education == 7] <- 6
#Generate a new summary table
table(lab1$education)
#A quick histogram to show the distribution of education
#Below (as well as the table above) shows a low number of responses from 1 - Some high school, which could indicate a bias in sampling, or simply reflect the education of the sample.
hist(lab1$education)
=======
data = load("C:\Users\WB537822\Desktop\stats1\Ch3_Exercise3_Height_and_Wages_UK.RData")
View(data)
load("C:/Users/WB537822/Desktop/stats1/Ch3_Exercise3_Height_and_Wages_UK.RData")
data <- dta
View(data)
View(data)
OLSresults <- lm(gwage33 ~ height33)
OLSresults <- lm(income ~ height)
#Create variables for income and height
income <- data$gwage33
height <- data$height33
OLSresults <- lm(income ~ height)
summary(OLSresults)
#Create OLS model and summarize
OLSresults <- lm(height ~ income)
summary(OLSresults)
#Create OLS model and summarize
OLSresults <- lm(income ~ height)
summary(OLSresults)
plot(height, income, main="Scatterplot of Height and Wage",
xlab="Height at Age 33 in Inches", ylab = "Hourly Wage at Age 33 in Pounds")
plot(height, income, main="Scatterplot of Height and Wage",
xlab="Height at Age 33 in Inches", ylab = "Hourly Wage at Age 33 in Pounds", pch=19)
plot(height, income, main="Scatterplot of Height and Wage",
xlab="Height at Age 33 in Inches", ylab = "Hourly Wage at Age 33 in Pounds", pch=1)
plot(height, income, main="Scatterplot of Height and Wage",
xlab="Height at Age 33 in Inches", ylab = "Hourly Wage at Age 33 in Pounds", pch=7)
plot(height, income, main="Scatterplot of Height and Wage",
xlab="Height at Age 33 in Inches", ylab = "Hourly Wage at Age 33 in Pounds", pch=8)
plot(height, income, main="Scatterplot of Height and Wage",
xlab="Height at Age 33 in Inches", ylab = "Hourly Wage at Age 33 in Pounds", pch=9)
abline(OLSresults)
plot(height, income, main="Scatterplot of Height and Wage",
xlab="Height at Age 33 in Inches", ylab = "Hourly Wage at Age 33 in Pounds", pch=9)
abline(lm(income~height), col='red')
plot(abline(lm(income~height), col='red'))
plot.new(abline(lm(income~height), col='red'))
abline(lm(income ~ height, data=data), col='blue')
plot(height, income, main="Scatterplot of Height and Wage",
xlab="Height at Age 33 in Inches", ylab = "Hourly Wage at Age 33 in Pounds", pch=9, frame=FALSE)
abline(lm(income ~ height, data=data), col='blue')
plot(height, income, main="Scatterplot of Height and Wage",
xlab="Height at Age 33 in Inches", ylab = "Hourly Wage at Age 33 in Pounds", pch=9)
abline(lm(income ~ height, data=data), col='blue')
data$newheight <- data$height33 >= 40
View(data$newheight)
data[data$height33 >= 40]
data$height33 >= 40
newdata <- data[which(gwage33 >= 40 & height33 < 400)]
newdata <- data[which(data$gwage33 >= 40 & data$height33 < 400)]
newdata <- data[ which(data$gwage33 >= 40 & data$height33 < 400)]
newdata <- data[ which(data$gwage33 >= 40 & data$height33 < 400), ]
newdata
data <- dta
View(data)
#Select rows that match the above specifications
newdata <- data[ which(data$gwage33 >= 40 & data$height33 < 400), ]
View(newdata)
#Select rows that match the above specifications
newdata <- data[ which(data$gwage33 >= 40 & data$height33 < 400), ]
plot(newdata$height33, newdata$gwage33, main="Scatterplot of Height and Wage - Outliers Removed",
xlab="Height at Age 33 in Inches", ylab = "Hourly Wage at Age 33 in Pounds", pch=9)
abline(lm(income ~ height, data=data), col='blue')
#Select rows that match the above specifications
newdata <- data[ which(data$gwage33 >= 40 & data$height33 < 400), ]
View(newdata)
#Select rows that match the above specifications
newdata <- subset(data, gwage33 < 400 & height33 > 40)
View(newdata)
#Select rows that match the above specifications
newdata <- subset(data, gwage33 < 400 & height33 > 40)
View(newdata)
plot(newdata$height33, newdata$gwage33, main="Scatterplot of Height and Wage - Outliers Removed",
xlab="Height at Age 33 in Inches", ylab = "Hourly Wage at Age 33 in Pounds", pch=9)
abline(lm(income ~ height, data=data), col='blue')
#Select rows that match the above specifications
newdata <- subset(data, gwage33 < 400 & height33 > 40)
View(newdata)
plot(newdata$height33, newdata$gwage33, main="Scatterplot of Height and Wage - Outliers Removed",
xlab="Height at Age 33 in Inches", ylab = "Hourly Wage at Age 33 in Pounds", pch=9)
abline(lm(income ~ height, data=data), col='blue')
abline(lm(income ~ height, data=data), col='blue')
#Select rows that match the above specifications
newdata <- subset(data, gwage33 < 400 & height33 > 40)
plot(newdata$height33, newdata$gwage33, main="Scatterplot of Height and Wage - Outliers Removed",
xlab="Height at Age 33 in Inches", ylab = "Hourly Wage at Age 33 in Pounds")
abline(lm(income ~ height, data=data), col='blue')
#Select rows that match the above specifications
newdata <- subset(data, gwage33 < 400 & height33 > 40)
plot(newdata$height33, newdata$gwage33, main="Scatterplot of Height and Wage - Observations Excluded",
xlab="Height at Age 33 in Inches", ylab = "Hourly Wage at Age 33 in Pounds")
abline(lm(income ~ height, data=data), col='blue')
View(newdata)
newdata2 <- subset(newdata, gwage33 < 156 & height33 > 40)
View(newdata2)
View(newdata)
View(newdata)
#Subset newdata and exclude 4 highest wages and height below 40 inches
newdata2 <- subset(newdata, gwage33 < 156 & height33 > 40)
OLSresults2 <- lm(newdata2$gwage33 ~ newdata2$height33)
summary(OLSresults2)
#Subset newdata and exclude 4 highest wages and height below 40 inches
newdata2 <- subset(newdata, gwage33 < 156 & height33 > 40)
OLSresults2 <- lm(newdata2$gwage33 ~ newdata2$height33)
summary(OLSresults2)
small_sample <- newdata2[1:800]
small_sample <- newdata2[1:800,]
View(small_sample)
nrow(small_sample)
#Create small sample by selecting first 800 rows of the previously subsetted data and verify the number of rows
small_sample <- newdata2[1:800,]
nrow(small_sample)
OLSresults3<- lm(small_sample$gwage33 ~ small_sample$height33)
summary(OLSresults3)
data <- read_dta("Ch3_Exercise3_Height_and_Wages_UK.dta")
x = load("/Users/allenchurch/Ch3_Exercise3_Height_and_Wages_UK.Rdata")
x
x = load("/Users/allenchurch/Ch3_Exercise3_Height_and_Wages_UK.Rdata")
x = load.Rdata("Ch3_Exercise3_Height_and_Wages_UK.Rdata")
x = load(file="Ch3_Exercise3_Height_and_Wages_UK.RData")
View(x)
x = load("C:\Users\WB537822\Desktop\stats1\Ch3_Exercise3_Height_and_Wages_UK.RData")
x = load("\Users\WB537822\Desktop\stats1\Ch3_Exercise3_Height_and_Wages_UK.RData")
x = load("C:\Users\WB537822\Desktop\stats1\Ch3_Exercise3_Height_and_Wages_UK.RData")
View(x)
x = load("C:\Users\WB537822\Desktop\stats1\Ch3_Exercise3_Height_and_Wages_UK.RData")
View(x)
load("C:/Users/WB537822/Desktop/stats1/Ch3_Exercise4_Divorce_rates_Women.RData")
load("C:/Users/WB537822/Desktop/stats1/Ch3_Exercise4_Divorce_rates_Women.RData")
load("C:/Users/WB537822/Desktop/stats1/Ch3_Exercise4_Divorce_rates_Men.RData")
View(Mdata)
load("C:/Users/WB537822/Desktop/stats1/Ch3_Exercise3_Height_and_Wages_UK.RData")
data <- load("C:/Users/WB537822/Desktop/stats1/Ch3_Exercise3_Height_and_Wages_UK.RData")
View(data)
data <- dta
View(data)
load("C:/Users/WB537822/Desktop/stats1/Ch3_Exercise3_Height_and_Wages_UK.RData")
data <- data
View(data)
data <- load("C:/Users/WB537822/Desktop/stats1/Ch3_Exercise3_Height_and_Wages_UK.RData")
View(data)
load("C:/Users/WB537822/Desktop/stats1/Ch3_Exercise3_Height_and_Wages_UK.RData")
View(data)
View(dta)
#Create variables for income and height
income <- data$gwage33
load("C:/Users/WB537822/Desktop/stats1/Ch3_Exercise3_Height_and_Wages_UK.RData")
data <- dta
View(data)
load("C:/Users/WB537822/Desktop/stats1/Ch3_Exercise4_Divorce_rates_Women.RData")
load("C:/Users/WB537822/Desktop/stats1/Ch3_Exercise4_Divorce_rates_Men.RData")
View(Mdata)
View(Wdata)
View(Mdata)
View(Wdata)
plot(Wdata$divorcerate, Wdata$hours, main="Scatterplot of Female Divorce Rate vs. Hours Worked",
xlab="Divorce Rate", ylab = "Hours Worked", pch=9)
plot(Mdata$divorcerate, Mdata$hours, main="Scatterplot of Male Divorce Rate vs. Hours Worked",
xlab="Divorce Rate", ylab = "Hours Worked", pch=9)
women_ols <- ls(Wdata$hours ~ Wdata$divorcerate)
women_ols <- ls(Wdata$hours ~ Wdata$divorcerate)
women_ols <- ls(Wdata$divorcerate ~ Wdata$hours)
ols <- lm(Wdata$hours ~ Wdata$divorcerate)
ols_women <- lm(Wdata$hours ~ Wdata$divorcerate)
summary(ols_women)
ols_men <- lm(Mdata$hours ~ Mdata$divorcerate)
summary(ols_men)
#Create OLS regression for men dataset
ols_men <- lm(Mdata$divorcerate ~ Mdata$hours)
summary(ols_men)
#Create OLS regression for men dataset
ols_men <- lm(Mdata$hours ~ Mdata$divorcerate)
summary(ols_men)
german_men <- subset(Mdata, country == "Germany")
View(german_men)
#Create a new dataframe only containing men data from Germany
german_men <- subset(Mdata, country == "Germany")
ols_german_men <- lm(german_men$hours ~ german_men$divorcerate)
summary(ols_german_men)
ols_german_men$fitted.values
summary(ols_german_men)
#Create a new dataframe only containing men data from Germany
german_men <- subset(Mdata, country == "Germany")
spanish_women <- subset(Wdata, country == "Spain")
ols_german_men$fitted.values
ols_spanish_women <- lm(spanish_women$hours ~ spanish_women$divorcerate)
ols_spanish_women$fitted.values
summary(ols_spanish_women)
#Load datasets and view
load("C:/Users/WB537822/Desktop/stats1/Ch3_Exercise4_Divorce_rates_Women.RData")
load("C:/Users/WB537822/Desktop/stats1/Ch3_Exercise4_Divorce_rates_Men.RData")
plot(Wdata$taxrate, Wdata$hours, main="Scatterplot of Female Tax Rates vs. Hours Worked",
xlab="Divorce Rate", ylab = "Hours Worked", pch=9)
plot(Wdata$taxrate, Wdata$hours, main="Scatterplot of Female Tax Rates vs. Hours Worked",
xlab="Tax Rate", ylab = "Hours Worked", pch=9)
plot(Mdata$taxrate, Mdata$hours, main="Scatterplot of Male Tax Rates vs. Hours Worked",
xlab="Tax Rate", ylab = "Hours Worked", pch=9)
ols_tax_female <- lm(Wdata$hours ~ Wdata$taxrate)
summary(ols_tax_female)
ols_tax_male <- lm(Mdata$hours ~ Mdata$taxrate)
summary(ols_tax_male)
us_men <- subset(Mdata, country == "United States")
ols_us_men <- lm(us_men$hours ~ us_men$taxrate)
ols_us_men$fitted.values
summary(ols_us_men)
italy_women <- subset(Wdata, country == "Italy")
ols_italy_women <- lm(italy_women$hours ~ italy_women$taxrate)
ols_italy_women$fitted.values
summary(ols_us_men)
>>>>>>> 8ac218e9a135cace10188db821baf7346d2db1eb
